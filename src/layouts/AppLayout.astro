---
import Layout from "./Layout.astro";
import { Header } from "@/components/layout/Header";
import { Toaster } from "@/components/ui/sonner";
import { AuthInitializer } from "@/components/shared/AuthInitializer";

interface Props {
  title?: string;
}

const { title = "Language Learning Buddy" } = Astro.props;
const { user } = Astro.locals;
---

<Layout title={title}>
  <AuthInitializer user={user} client:only="react" />
  <Header client:load />
  <slot />
  <Toaster richColors client:load />
</Layout>
