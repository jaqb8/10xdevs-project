---
import AuthLayout from "@/layouts/AuthLayout.astro";
import { ForgotPasswordForm } from "@/components/features/auth/ForgotPasswordForm";
import { isFeatureEnabled } from "@/features/feature-flags.service";

if (!isFeatureEnabled("auth")) {
  return Astro.redirect("/");
}

const { user } = Astro.locals;

if (user) {
  return Astro.redirect("/");
}
---

<AuthLayout title="Zapomniałeś hasła? - Language Learning Buddy">
  <ForgotPasswordForm client:load />
</AuthLayout>
